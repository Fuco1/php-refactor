#!/usr/bin/env php
<?php

include __DIR__ . '/../bootstrap.php';

$parser = new Parser(file_get_contents($argv[2]));
$parser->parse();

switch ($argv[1]) {
    case 'variables':
        $vars = $parser->getVariables();
        $data = json_encode($vars, true);
        echo $data;
        break;
    case 'variable':
        $var = $parser->getVariableAtPoint($argv[3]);
        $data = json_encode($var, true);
        echo $data;
    case 'functions':
        echo $parser->getFunctions();
        break;
}


// Local Variables:
// mode: php
// End:
